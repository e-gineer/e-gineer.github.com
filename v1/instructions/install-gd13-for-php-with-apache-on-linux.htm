<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<!-- #BeginTemplate "../../v2/presentation/template.dwt" -->
<html>
<head>
<!-- #BeginEditable "doctitle" -->
<title>Installing GD 1.3 for PHP on Linux</title>
<!-- #EndEditable -->
<link rel="stylesheet" type="text/css" href="../../v2/presentation/TortoiseRocket.css"/>
<link rel="alternate" type="application/rss+xml" title="Nathan @ e-gineer - RSS" href="../../v2/blog/rss.xml" />
<link rel="shortcut icon" href="../../v2/presentation/TortoiseRocket.ico" type="image/ico"/>
</head>
<body>

<div id="contentPageWrapper">

  <div id="contentPageHeader">
    <div id="contentPageHeaderBar">
      <div id="contentPageHeaderLinkBlog">
		<a href="../../v2/blog/" class="contentPageHeaderLink">Blog</a></div>
      <div id="contentPageHeaderLinkNathan"><a href="../../nathan/" class="contentPageHeaderLink">Nathan</a></div>
      <div id="contentPageHeaderLinkArchive"><a href="../../archive/" class="contentPageHeaderLink">Archive</a></div>
    </div>
    <a href="../../">
	<img id="contentPageEgineerImage" src="../../v2/presentation/TortoiseRocket-Logo.gif" alt="e-gineer" width="320" height="127"/></a>
  </div>

  <div id="googleAd">  
    <script type="text/javascript"><!--
    google_ad_client = "pub-4825523674148460";
    /* 728x90, created 4/13/09 */
    google_ad_slot = "2745493970";
    google_ad_width = 728;
    google_ad_height = 90;
    //-->
    </script>
    <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
  </div>

  <div id="contentPageBody">
  <!-- #BeginEditable "body" -->

<h1>Installing GD 1.3 for PHP on Linux</h1>

<em>by <a href="../../nathan/">Nathan Wallace</a></em> (Oct 25, 1999)

<p>
<br>

<h2>Introduction</h2>

This document describes the installation of the GD graphics library on Linux for use with PHP.  We are using an old version of this library since newer versions do not allow the generation of gif files due to patent problems.

<p>

I've assumed that you have Apache and PHP installed in /usr/local/etc/php as per my instructions.

<p>
<br>

<h2>Getting GD</h2>

<ol>

<li>You need to be working as root to install gd.
<pre>
    su root
</pre>

<li>I like to keep a copy of my downloaded programs in
<pre>
    /usr/local/download
</pre>
So create this directory if you don't already have one.

<p>

<li>You can <a href="http://www.boutell.com/gd/">download GD from here</a>.

<p>

<li>Save the file as:
<pre>
    /usr/local/download/gd1.3.tar.gz
</pre>
using these commands:
<pre>
    cd /usr/local/download
    ftp ftp.example.com
    cd pub
    cd gd
    bin
    get gd1.3.tar.gz
    bye
</pre>

</ol>

<p>
<br>

<h2>Installing GD</h2>

<ol>

<li>First we have to unpack the download.  We are going to install it into /usr/local/gd1.3.  I've used a pretty cryptic tar command below to do it all in one hit.
<pre>
    cd /usr/local/download
    tar xzf gd1.3.tar.gz -C ..
</pre>

<p>

<li>Let's make the GD stuff easy to find:
<pre>
    cd ..
    ln -s gd1.3 gd
</pre>

<p>

<li>Now we need to compile everything:
<pre>
    cd gd
    make
</pre>

</ol>

<p>
<br>

<h2>Checking it Worked</h2>

<ol>

<li>You can run the gddemo program to check that the installation is working:
<pre>
    ./gddemo
</pre>

<p>

<li>This demo program generates a gif file:
<pre>
    demoout.gif
</pre>
which you can look at in your browser by downloading it from your server or calling up the file directory.

</ol>

<p>
<br>

<h2>Adding GD Support to PHP</h2>

<ol>

<li>Jump into the php installation directory:
<pre>
    cd ../etc/php
</pre>

<p>

<li>We need to configure PHP to use GD.  You should just use the configure command that you used last time and add --with-gd=/usr/local/gd to it.  If you followed my instructions for installing PHP with MySQL then your configure command will look like this:
<pre>
    ./configure --with-apache=../httpd --with-mysql=/usr/local/mysql --enable-track-vars --with-gd=/usr/local/gd
</pre>

<p>

<li>Make the new PHP library:
<pre>
    make
    make install
</pre>

<p>

<li>Now we have to remake apache to use the new PHP:
<pre>
    cd ../httpd
    make
    make install
</pre>

</ol>

  <!-- #EndEditable -->
  </div>
  
<?php
// import the footer from a dynamic blog page to ensure we have the latest archive links
$html = file_get_contents($_SERVER['DOCUMENT_ROOT'].'/e-gineer.com/v2/blog/2009/03/lachlan-and-then-there-were-4.htm');
echo substr($html, strpos($html, '<div id="contentPageFooter">'));
?>