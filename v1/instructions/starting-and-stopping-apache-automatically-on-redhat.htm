<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<!-- #BeginTemplate "../../v2/presentation/template.dwt" -->
<html>
<head>
<!-- #BeginEditable "doctitle" -->
<title>Starting and Stopping Apache Automatically on Red Hat Linux</title>
<!-- #EndEditable -->
<link rel="stylesheet" type="text/css" href="../../v2/presentation/TortoiseRocket.css"/>
<link rel="alternate" type="application/rss+xml" title="Nathan @ e-gineer - RSS" href="../../v2/blog/rss.xml" />
<link rel="shortcut icon" href="../../v2/presentation/TortoiseRocket.ico" type="image/ico"/>
</head>
<body>

<div id="contentPageWrapper">

  <div id="contentPageHeader">
    <div id="contentPageHeaderBar">
      <div id="contentPageHeaderLinkBlog">
		<a href="../../v2/blog/" class="contentPageHeaderLink">Blog</a></div>
      <div id="contentPageHeaderLinkNathan"><a href="../../nathan/" class="contentPageHeaderLink">Nathan</a></div>
      <div id="contentPageHeaderLinkArchive"><a href="../../archive/" class="contentPageHeaderLink">Archive</a></div>
    </div>
    <a href="../../">
	<img id="contentPageEgineerImage" src="../../v2/presentation/TortoiseRocket-Logo.gif" alt="e-gineer" width="320" height="127"/></a>
  </div>

  <div id="googleAd">  
    <script type="text/javascript"><!--
    google_ad_client = "pub-4825523674148460";
    /* 728x90, created 4/13/09 */
    google_ad_slot = "2745493970";
    google_ad_width = 728;
    google_ad_height = 90;
    //-->
    </script>
    <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
  </div>

  <div id="contentPageBody">
  <!-- #BeginEditable "body" -->

<h1>Starting and Stopping Apache Automatically on Red Hat Linux</h1>

<em>by <a href="../../nathan/">Nathan Wallace</a></em> (Oct 25, 1999)<br>
<em>and John Brett</em> (Dec 4, 2000)
<p>
<br>

<h2>Introduction</h2>

After you've installed Apache it's often a good and convenient idea to make it start and stop automatically with the machine.  These instructions are specific for <a href="http://www.redhat.com">Red Hat Linux</a> and it's variants since different Linux distributions tend to layout the start up scripts differently.

<p>

The example script is based on my <a href="install-apache1xx-on-linux.htm">Apache installation instructions</a>.

<p>
<br>

<h2>Starting and Stopping Apache Automatically</h2>

<ol>
<li>Firstly, log in as root
<pre>
    su root
</pre>
<p>

<li>The next thing we need to do is create a start up and shutdown script for Apache.  I use a slightly modified version of the standard Red Hat one.  You need to create or modify this script located at:
<pre>
    /etc/rc.d/init.d/httpd
</pre>
Here is a copy (removed) of the start up script I use for <a href="install-apache1xx-on-linux.htm">my installation</a>.  You can just change the PID file (PIDFILE) and httpd binary (BINFILE) locations in that script if you set up your Apache differently.

<p>

<li>We need to make this file executable:
<pre>
    cd /etc/rc.d/init.d
    chmod 755 httpd
</pre>

<p>

<li>Now we need to link to this script, causing it to be run on automatically on server shutdown.  I'm not sure if all of these are needed, here I'm just copying the Red Hat solution.  If these links already exist then you do not need to change them so long as they point to the httpd file we just created.
<pre>
    cd /etc/rc.d/rc0.d
    ln -s ../init.d/httpd K15httpd
    cd /etc/rc.d/rc6.d
    ln -s ../init.d/httpd K15httpd
</pre>

<p>

<li>Now add a link to the script to be run when the server starts:
<pre>
    cd /etc/rc.d/rc3.d
    ln -s ../init.d/httpd S15httpd
    cd /etc/rc.d/rc5.d
    ln -s ../init.d/httpd S15httpd
</pre>

<p>

<li>You can check if everything worked as expected by rebooting your machine (after saving everything):
<pre>
    shutdown -r now
</pre>

</ol>

  <!-- #EndEditable -->
  </div>
  
<?php
// import the footer from a dynamic blog page to ensure we have the latest archive links
$html = file_get_contents($_SERVER['DOCUMENT_ROOT'].'/e-gineer.com/v2/blog/2009/03/lachlan-and-then-there-were-4.htm');
echo substr($html, strpos($html, '<div id="contentPageFooter">'));
?>