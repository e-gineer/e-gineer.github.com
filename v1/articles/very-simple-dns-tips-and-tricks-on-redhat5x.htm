<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN">
<!-- #BeginTemplate "../../v2/presentation/template.dwt" -->
<html>
<head>
<!-- #BeginEditable "doctitle" -->
<title>Very Simple DNS Tips and Tricks on Red Hat 5.x</title>
<!-- #EndEditable -->
<link rel="stylesheet" type="text/css" href="../../v2/presentation/TortoiseRocket.css"/>
<link rel="alternate" type="application/rss+xml" title="Nathan @ e-gineer - RSS" href="../../v2/blog/rss.xml" />
<link rel="shortcut icon" href="../../v2/presentation/TortoiseRocket.ico" type="image/ico"/>
</head>
<body>

<div id="contentPageWrapper">

  <div id="contentPageHeader">
    <div id="contentPageHeaderBar">
      <div id="contentPageHeaderLinkBlog">
		<a href="../../v2/blog/" class="contentPageHeaderLink">Blog</a></div>
      <div id="contentPageHeaderLinkNathan"><a href="../../nathan/" class="contentPageHeaderLink">Nathan</a></div>
      <div id="contentPageHeaderLinkArchive"><a href="../../archive/" class="contentPageHeaderLink">Archive</a></div>
    </div>
    <a href="../../">
	<img id="contentPageEgineerImage" src="../../v2/presentation/TortoiseRocket-Logo.gif" alt="e-gineer" width="320" height="127"/></a>
  </div>

  <div id="googleAd">  
    <script type="text/javascript"><!--
    google_ad_client = "pub-4825523674148460";
    /* 728x90, created 4/13/09 */
    google_ad_slot = "2745493970";
    google_ad_width = 728;
    google_ad_height = 90;
    //-->
    </script>
    <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
  </div>

  <div id="contentPageBody">
  <!-- #BeginEditable "body" -->

<h1>Very Simple DNS Tips and Tricks on Red Hat Linux 5.x</h1>

<em>by <a href="../../nathan/">Nathan Wallace</a></em> (April 28, 1999)

<p>
<br>

<h2>Introduction</h2>

When my first web site went live I was so excited that I checked the statistics continually.  I couldn't even wait for the compiled stats from <a href="http://www.wusage.com">wusage</a>.  I was checking the raw log files.

<p>

Of course, since there were almost no visitors my log file looked like this:
<ul>
<pre>
    /wusage/access-log
    /wusage/access-log
    /wusage/access-log
    /index.html
    /logox4.gif
    /wusage/access-log
    /wusage/access-log
    /wusage/access-log
</pre>
</ul>

<p>

While trying to <strong>track down the origins of the IP addresses</strong> that were appearing in my log file (before DNS resolution was turned on) I discovered the tools in this document.  Some of them I used to check progress as the synop.com domain was changing between hosting companies.

<p>
<br>

<h2>Calculating the Hostname from the IP Address</h2>

To work out the hostname associated with an IP address use the ipcalc function.
<ul>
<pre>
    <strong>ipcalc --hostname 216.71.34.45</strong>
    HOSTNAME=synop.com
</pre>
</ul>

<p>
<br>

<h2>Getting Information about a Domain from Name Servers</h2>

The name servers on the internet cache information about domain names.  This cache is updated periodically from the root DNS servers which are currently controlled by internic.  If you make a change to your domain, such as changing hosting companies, then the name servers for the domain will usually change.  This change takes time (approx 1-2 days) to filter to all computers on the internet.

<p>

To get the information about a domain from your default name server use:
<ul>
<pre>
    <strong>dnsquery synop.com</strong>
</pre>
<pre>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 6793
;; flags: qr rd ra; Ques: 1, Ans: 3, Auth: 2, Addit: 2
;; QUESTIONS:
;;	synop.com, type = ANY, class = IN

;; ANSWERS:
synop.com.	4228	IN	NS	ns.propagation.net.
synop.com.	4228	IN	NS	ns2.propagation.net.
synop.com.	3613	IN	A	216.71.34.45

;; AUTHORITY RECORDS:
synop.com.	4228	IN	NS	ns.propagation.net.
synop.com.	4228	IN	NS	ns2.propagation.net.

;; ADDITIONAL RECORDS:
ns.propagation.net.	171941	IN	A	216.71.32.31
ns2.propagation.net.	171941	IN	A	216.71.94.4
</pre>
</ul>

<p>

You can also ask other name servers on the internet for their records for a domain:
<ul>
<pre>
    <strong>dnsquery -n ns.internic.net synop.com</strong>
</pre>
<pre>
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 44074
;; flags: qr rd; Ques: 1, Ans: 2, Auth: 2, Addit: 2
;; QUESTIONS:
;;	synop.com, type = ANY, class = IN

;; ANSWERS:
synop.com.	172800	IN	NS	NS.CIHOST.COM.
synop.com.	172800	IN	NS	NS2.CIHOST.COM.

;; AUTHORITY RECORDS:
synop.com.	172800	IN	NS	NS.CIHOST.COM.
synop.com.	172800	IN	NS	NS2.CIHOST.COM.

;; ADDITIONAL RECORDS:
NS.CIHOST.COM.	172800	IN	A	216.71.93.147
NS2.CIHOST.COM.	172800	IN	A	216.71.94.5
</pre>
</ul>

  <!-- #EndEditable -->
  </div>
  
<?php
// import the footer from a dynamic blog page to ensure we have the latest archive links
$html = file_get_contents($_SERVER['DOCUMENT_ROOT'].'/e-gineer.com/v2/blog/2009/03/lachlan-and-then-there-were-4.htm');
echo substr($html, strpos($html, '<div id="contentPageFooter">'));
?>